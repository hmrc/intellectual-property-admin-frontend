@*
 * Copyright 2022 HM Revenue & Customs
 *
 *@

@import uk.gov.hmrc.govukfrontend.views.html.components._

@this(govukErrorSummary: GovukErrorSummary)

@(errors: Seq[FormError], errorFieldName: Option[String] = None, firstField: Option[(ContactOptions, String)])(implicit messages: Messages)

@if(errors.nonEmpty) {
    @defining(errors.map { error =>
        ErrorLink(
            href = Some(s"#${errorFieldName.getOrElse(error.key)}-${firstField.getOrElse(ContactOptions.SomeoneElse, "")._1.toString}"),
            content = Text(messages(error.message, error.args:_*))
        )
    }) { errorLinks =>
        @govukErrorSummary(ErrorSummary(
            errorList = errorLinks,
            title = Text(messages("error.summary.title"))
        ))
    }
}
